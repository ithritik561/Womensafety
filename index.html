<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Women Safety Portal</title>
<style>
  /* Basic Reset */
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }

  body { background: #f7f7f7; color: #333; }

  header {
    background: #ff4b5c;
    color: white;
    padding: 15px 20px;
    text-align: center;
    font-size: 1.5rem;
    font-weight: bold;
    letter-spacing: 1px;
  }

  main { padding: 20px; max-width: 900px; margin: auto; }

  .section { margin-bottom: 30px; }

  h2 { margin-bottom: 10px; color: #ff4b5c; }

  /* Help Center Search */
  #helpSearch { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
  #helpList { list-style: none; margin-top: 10px; }
  #helpList li { background: white; padding: 10px; margin-bottom: 5px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }

  /* Location */
  #locationStatus { margin-top: 10px; font-weight: bold; }

  /* SOS Button */
  .sos-btn {
    background: #ff4b5c;
    color: white;
    padding: 15px 30px;
    border: none;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    display: block;
    margin: 20px auto;
    animation: pulse 1.5s infinite;
  }

  @keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,75,92, 0.7); }
    70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(255,75,92, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,75,92, 0); }
  }

  /* Smooth UI transitions */
  .fade { transition: all 0.3s ease-in-out; }

  /* Profile Form */
  input, button { font-size: 1rem; }
  .profile-form input { padding: 10px; margin-bottom: 10px; width: 100%; border-radius: 5px; border: 1px solid #ccc; }
  .profile-form button { background: #ff4b5c; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }

  /* Contacts List */
  #contactsList li { background: white; padding: 10px; margin-bottom: 5px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
</style>
</head>
<body>

<header>Women Safety Portal</header>

<main>
  <!-- Profile Section -->
  <div class="section">
    <h2>Profile</h2>
    <form class="profile-form" id="profileForm">
      <input type="text" id="name" placeholder="Your Name" required>
      <input type="tel" id="phone" placeholder="Your Phone Number" required>
      <button type="submit">Save Profile</button>
    </form>
    <p id="profileStatus"></p>
  </div>

  <!-- Help Centers Section -->
  <div class="section">
    <h2>Help Centers üè•</h2>
    <input type="text" id="helpSearch" placeholder="Search help centers...">
    <ul id="helpList"></ul>
  </div>

  <!-- Location Section -->
  <div class="section">
    <h2>Share Location üìç</h2>
    <button id="getLocationBtn">Get Current Location</button>
    <p id="locationStatus">Location not shared yet.</p>
  </div>

  <!-- SOS Section -->
  <div class="section">
    <h2>Emergency SOS üî¥</h2>
    <button class="sos-btn" id="sosBtn">SOS</button>
    <p id="sosStatus"></p>
  </div>

  <!-- Contacts Section -->
  <div class="section">
    <h2>Emergency Contacts</h2>
    <form id="contactForm">
      <input type="text" id="contactName" placeholder="Contact Name" required>
      <input type="tel" id="contactPhone" placeholder="Contact Phone" required>
      <button type="submit">Add Contact</button>
    </form>
    <ul id="contactsList"></ul>
  </div>
</main>

<script>
  // ======= Profile Storage =======
  const profileForm = document.getElementById('profileForm');
  const profileStatus = document.getElementById('profileStatus');

  profileForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    localStorage.setItem('userProfile', JSON.stringify({ name, phone }));
    profileStatus.textContent = 'Profile saved successfully!';
  });

  // Load profile on start
  window.addEventListener('load', () => {
    const savedProfile = JSON.parse(localStorage.getItem('userProfile'));
    if(savedProfile){
      document.getElementById('name').value = savedProfile.name;
      document.getElementById('phone').value = savedProfile.phone;
      profileStatus.textContent = 'Profile loaded from local storage.';
    }
  });

  // ======= Help Centers =======
  const helpCenters = [
    "City Hospital, Main Street",
    "Police Station, Downtown",
    "Women Help Line, 1091",
    "Community Center, West Area",
    "Health Clinic, North District"
  ];

  const helpList = document.getElementById('helpList');
  const helpSearch = document.getElementById('helpSearch');

  function displayHelpCenters(filter=""){
    helpList.innerHTML = "";
    helpCenters.filter(c => c.toLowerCase().includes(filter.toLowerCase()))
      .forEach(c => {
        const li = document.createElement('li');
        li.textContent = c;
        helpList.appendChild(li);
      });
  }

  helpSearch.addEventListener('input', () => displayHelpCenters(helpSearch.value));
  displayHelpCenters();

  // ======= Location Sharing =======
  const getLocationBtn = document.getElementById('getLocationBtn');
  const locationStatus = document.getElementById('locationStatus');

  getLocationBtn.addEventListener('click', () => {
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(
        pos => locationStatus.textContent = `Latitude: ${pos.coords.latitude}, Longitude: ${pos.coords.longitude}`,
        err => locationStatus.textContent = "Unable to retrieve location."
      );
    } else {
      locationStatus.textContent = "Geolocation not supported.";
    }
  });

  // ======= SOS Button =======
  const sosBtn = document.getElementById('sosBtn');
  const sosStatus = document.getElementById('sosStatus');

  sosBtn.addEventListener('click', () => {
    sosStatus.textContent = "SOS Activated! Notifying your emergency contacts...";
    // Simulate alert for contacts
    const contacts = JSON.parse(localStorage.getItem('emergencyContacts')) || [];
    if(contacts.length){
      contacts.forEach(c => console.log(`SOS sent to ${c.name} - ${c.phone}`));
      sosStatus.textContent += ` ${contacts.length} contacts notified.`;
    } else {
      sosStatus.textContent += " No contacts saved.";
    }
  });

  // ======= Emergency Contacts =======
  const contactForm = document.getElementById('contactForm');
  const contactsList = document.getElementById('contactsList');

  function displayContacts(){
    contactsList.innerHTML = "";
    const contacts = JSON.parse(localStorage.getItem('emergencyContacts')) || [];
    contacts.forEach(c => {
      const li = document.createElement('li');
      li.textContent = `${c.name} - ${c.phone}`;
      contactsList.appendChild(li);
    });
  }

  contactForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const name = document.getElementById('contactName').value;
    const phone = document.getElementById('contactPhone').value;
    const contacts = JSON.parse(localStorage.getItem('emergencyContacts')) || [];
    contacts.push({name, phone});
    localStorage.setItem('emergencyContacts', JSON.stringify(contacts));
    contactForm.reset();
    displayContacts();
  });

  displayContacts();
</script>

</body>
</html>
