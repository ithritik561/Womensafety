<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Women Safety Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- Reset & Base --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Roboto', sans-serif; background: #f5f6fa; color: #333; }
        header { background: #ff4757; color: #fff; text-align: center; padding: 25px 0; font-size: 2em; font-weight: 700; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        nav { display: flex; justify-content: center; background: #ff6b81; padding: 10px; flex-wrap: wrap; }
        nav button { margin: 5px; padding: 12px 25px; border: none; border-radius: 8px; background: #fff; color: #ff4757; font-weight: 600; cursor: pointer; transition: 0.3s; }
        nav button:hover { background: #ffe6e6; }
        section { display: none; padding: 25px; max-width: 900px; margin: 20px auto; background: #fff; border-radius: 12px; box-shadow: 0 3px 15px rgba(0,0,0,0.05); }
        section.active { display: block; }
        h2 { color: #ff4757; margin-bottom: 15px; }
        ul { list-style: none; }
        li { padding: 10px; border: 1px solid #f0f0f0; margin-bottom: 10px; border-radius: 8px; transition: 0.2s; }
        li:hover { background: #ffe6e6; }
        input, button { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #ccc; }
        button.primary { background: #ff4757; color: #fff; border: none; cursor: pointer; transition: 0.3s; }
        button.primary:hover { background: #ff6b81; }
        #sosButton { width: 120px; height: 120px; border-radius: 50%; background: red; color: white; font-size: 1.5em; font-weight: bold; display: block; margin: 30px auto; border: none; cursor: pointer; animation: pulse 1.5s infinite; box-shadow: 0 0 25px rgba(255,0,0,0.4); }
        @keyframes pulse { 0% { transform: scale(1);} 50% { transform: scale(1.2);} 100% { transform: scale(1);} }
        #map { width: 100%; height: 400px; border-radius: 12px; margin-top: 20px; }
        @media(max-width: 600px) { nav { flex-direction: column; } nav button { width: 90%; } }
    </style>
</head>
<body>

<header>Women Safety Portal</header>

<nav>
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('sos')">SOS</button>
    <button onclick="showSection('mapSection')">Location</button>
    <button onclick="showSection('help')">Help Centers</button>
    <button onclick="showSection('tips')">Safety Tips</button>
    <button onclick="showSection('profile')">Profile</button>
</nav>

<section id="home" class="active">
    <h2>Welcome</h2>
    <p>Stay safe and be prepared. Use the portal features to quickly get help, share your location, and learn safety tips.</p>
</section>

<section id="sos">
    <h2>Emergency SOS</h2>
    <button id="sosButton" onclick="triggerSOS()">SOS</button>
</section>

<section id="mapSection">
    <h2>Your Location</h2>
    <button class="primary" onclick="getLocation()">Get My Location</button>
    <div id="map"></div>
</section>

<section id="help">
    <h2>Help Centers</h2>
    <input type="text" id="searchInput" placeholder="Search by name or city" onkeyup="filterCenters()">
    <ul id="helpCenters">
        <li>Police Station - Downtown</li>
        <li>Women Helpline - City Center</li>
        <li>Hospital - Riverside</li>
        <li>NGO Safe Home - West End</li>
        <li>Police Station - East Side</li>
    </ul>
</section>

<section id="tips">
    <h2>Safety Tips</h2>
    <ul>
        <li>Inform someone of your whereabouts.</li>
        <li>Keep your phone charged at all times.</li>
        <li>Avoid isolated places at night.</li>
        <li>Trust your instincts in unsafe situations.</li>
        <li>Learn basic self-defense techniques.</li>
    </ul>
</section>

<section id="profile">
    <h2>Your Profile</h2>
    <input type="text" id="name" placeholder="Your Name">
    <input type="text" id="contact" placeholder="Emergency Contact Number">
    <button class="primary" onclick="saveProfile()">Save Profile</button>
</section>

<script>
    function showSection(id){
        document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function triggerSOS() {
        alert("SOS Activated! Sending alert to your emergency contacts!");
        // Future: integrate SMS/email API
    }

    function filterCenters() {
        let filter = document.getElementById('searchInput').value.toLowerCase();
        document.querySelectorAll('#helpCenters li').forEach(li => {
            li.style.display = li.textContent.toLowerCase().includes(filter) ? '' : 'none';
        });
    }

    function saveProfile() {
        let name = document.getElementById('name').value;
        let contact = document.getElementById('contact').value;
        if(name && contact){
            localStorage.setItem('userName', name);
            localStorage.setItem('emergencyContact', contact);
            alert('Profile saved!');
        } else alert('Please enter both name and contact.');
    }

    window.onload = function() {
        if(localStorage.getItem('userName')){
            document.getElementById('name').value = localStorage.getItem('userName');
            document.getElementById('contact').value = localStorage.getItem('emergencyContact');
        }
    }

    // Location & Map
    let map;
    function getLocation() {
        if(navigator.geolocation){
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else alert("Geolocation not supported by browser.");
    }

    function showPosition(position){
        let lat = position.coords.latitude;
        let lng = position.coords.longitude;
        document.getElementById('map').innerHTML = `<iframe
            width="100%" height="400"
            frameborder="0" style="border:0"
            src="https://www.google.com/maps?q=${lat},${lng}&hl=es;z=15&output=embed" allowfullscreen>
            </iframe>`;
    }

    function showError(error){
        switch(error.code){
            case error.PERMISSION_DENIED: alert("Permission denied."); break;
            case error.POSITION_UNAVAILABLE: alert("Location unavailable."); break;
            case error.TIMEOUT: alert("Request timed out."); break;
            default: alert("Unknown error."); break;
        }
    }
</script>

</body>
</html>
